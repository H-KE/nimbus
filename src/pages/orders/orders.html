<ion-header>
  <ion-toolbar color="primary">
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      My Orders
    </ion-title>
  </ion-toolbar>
  <ion-toolbar color="primary">
    <ion-segment [(ngModel)]="orderSegment" color="white">
      <ion-segment-button value="open">
        Open Orders
      </ion-segment-button>
      <ion-segment-button value="history">
        Order History
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content class="orders" [ngSwitch]="orderSegment">
  <div *ngSwitchCase="'open'">
    <div *ngIf="orders == null || orders.length == 0">
      <ion-card padding >
        <ion-item>
          You don't have any open orders yet!
        </ion-item>
      </ion-card>
    </div>
    <div *ngIf="orders != null">
      <ion-card *ngFor="let order of orders">
        <button ion-item detail-none (click)="goToOrderDetails($event, order)">
          <ion-thumbnail item-left>
            <img src={{order.dispensary_image}}>
          </ion-thumbnail>
          <h2>{{order.dispensary_name}}</h2>
          <p>${{order.total_price}} | {{order.order_details.length}} items | Packaging</p>
        </button>
      </ion-card>
    </div>
  </div>
  <div *ngSwitchCase="'history'">
    <div *ngIf="orders == null || orders.length == 0">
      <ion-card padding >
        <ion-item>
          You order history is empty!
        </ion-item>
      </ion-card>
    </div>
    <div *ngIf="orders != null">
      <!-- TODO: fill with history orders -->
    </div>
  </div>
</ion-content>
