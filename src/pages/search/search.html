<!-- <nimbus-bar title="Nimbus" [showMenu]=true></nimbus-bar> -->
<ion-header>
  <ion-navbar color="primary">
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Dispensaries</ion-title>
    <ion-buttons end>
      <button ion-button icon-left (click)="goToCart()">
        <ion-icon name="cart"></ion-icon>
        {{cartService.itemCount}}
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="search">
  <div [ngSwitch]="searchMode">
    <div *ngSwitchCase="'mail'">
      <div *ngFor="let dispensaryGroup of mailDispensaries">
        <ion-row responsive-md>
          <ion-col width-33 *ngFor="let dispensary of dispensaryGroup">
            <ion-card (click)="dispensarySelected($event, dispensary)">
              <img src={{dispensary.avatar_url}}>
              <ion-item>
                <h2><b>{{dispensary.name}}</b></h2>
                <p>{{dispensary.bio}}</p>
              </ion-item>
            </ion-card>
          </ion-col>
        </ion-row>
      </div>
    </div>
    <!-- <div *ngSwitchCase="'pickup'">
      <a *ngFor="let dispensary of pickupDispensaries" (click)="dispensarySelected($event, dispensary)">
        <ion-card class="dispensary-avatar">
          <img src={{dispensary.avatar_url}}>
          <div class="card-detail">
            <div class="card-title">{{dispensary.name}}</div>
            <div class="card-subtitle">{{dispensary.bio}}</div>
          </div>
        </ion-card>
      </a>
    </div> -->
  </div>
</ion-content>

<!-- <ion-footer>
  <ion-toolbar color="primary">
    <ion-segment [(ngModel)]="searchMode" color="white">
      <ion-segment-button value="mail">
        Mail delivery
      </ion-segment-button>
      <ion-segment-button value="pickup">
        In-store pickup
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-footer> -->
