<!-- <nimbus-bar title="Nimbus" [showMenu]=true></nimbus-bar> -->
<ion-header>
  <ion-navbar color="primary">
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Dispensaries</ion-title>
    <ion-buttons end>
      <button ion-button icon-left (click)="goToCart()">
        <ion-icon name="cart"></ion-icon>
        {{cartService.itemCount}}
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="search">
  <div [ngSwitch]="searchMode">
    <div *ngSwitchCase="'mail'">
      <a *ngFor="let dispensary of mailDispensaries" (click)="dispensarySelected($event, dispensary)">
        <ion-card class="dispensary-avatar">
          <img src={{dispensary.avatar_url}}>
          <div class="card-detail">
            <div class="card-title">{{dispensary.name}}</div>
            <div class="card-subtitle">{{dispensary.bio}}</div>
          </div>
        </ion-card>
      </a>
    </div>
    <div *ngSwitchCase="'pickup'">
      <a *ngFor="let dispensary of pickupDispensaries" (click)="dispensarySelected($event, dispensary)">
        <ion-card class="dispensary-avatar">
          <img src={{dispensary.avatar_url}}>
          <div class="card-detail">
            <!-- <div class="card-header">{{dispensary.hours}}</div> -->
            <div class="card-title">{{dispensary.name}}</div>
            <div class="card-subtitle">{{dispensary.bio}}</div>
          </div>
        </ion-card>
      </a>
    </div>
  </div>
</ion-content>
